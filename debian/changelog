moblin-image-creator (0.28) UNRELEASED; urgency=low

  * Really change over to using /proc/mounts instead of /etc/mtab.  Forget to
    actually commit the file last time.
  * Adding in our config file processing stuff
  * Adding in our default config file
  * Deleting library that wasn't needed.  Also deleted some extraneous
    functions.
  * fixing up mic_cfg.py.  Just some cleanup.
  * Putting new config system in place.  Fingers are crossed.
  * Removing very very verbose messages on error.
  * Give a warning if people are using the old ~/.image-creator/platforms.cfg
    file.
  * Decided to use [platform] rather than [bootstrap] seemed more appropriate
    as I added a few more options.
  * Added an [installimage] section to the config
  * Make our umount function use the pdk_utils.getMountInfo() function.  This
    function uses /proc/mounts to determine the mounts on the system.
    Hopefully this will do a better job in umounting stuff
  * Fix issue with misspelled variable
  * Convert fset names on the command line to lowercase.
  * Fix indenation error that was causing our retries to fail
  * Previous fix uncovered a bug in resetting an environement error.  Fixing
    that.
  * Update so that both platforms are using galculator.
  * Added a debug option to the config file, well make more extensive use of
    it in the future.
  * More debug option work.
  * Bob likes to use symbolic links, this seems to cause issues.  So putting
    in an attempted fix for that.

 -- John L. Villalovos <john.l.villalovos@intel.com>  Fri,  7 Sep 2007 10:49:57 -0700

moblin-image-creator (0.27) gutsy; urgency=low

  [ Alek Du ]
  * Add pm-utils and vbetool to fset for S3/S4 support
  * Remove unnecessary busybox-initramfs workaround since mount --bind works again
  * Add nolapic_timer to mccaslin kernel cmdline to workaround S3/S4 issue
  * Add libhildon-1-dev and libhildonfm2-dev to project root, since QA guys need 
    them for ABAT cases

  [ John L. Villalovos ]
  * Created a global variable that specifies the size of the ext3 filesystem
    on a liveRW USB image.  Might move this into a config file in the future.
  * Fix broken "clear-rootstraps" command
  * Trying to fix issue where thousands and thousands of extra new-lines are
    printed.
  * Changed way we clean up the /var/apt/cache/archives of the bootstraps, to
    use the 'apt-get clean' command in a chroot environment.
  * Creating the ~/.image-creator/ directory if it does not exist.
  * Make it so that you can do a terminal in a target, once the target is
    created.
  * Have it read mounts from /proc/mounts rather than /etc/mtab

  [ Tollef Fog Heen ]
  * Get rid significant bits of the ubuntu-mobile fsets as they are now in
    the ubuntu mobile metapackage.
  
 -- Tollef Fog Heen <tfheen@ubuntu.com>  Thu, 30 Aug 2007 22:51:41 +0200

moblin-image-creator (0.26) gutsy; urgency=low

  [ John Villalovos ]
  * Fix issue with fstype and fs_type spelling

 -- John L. Villalovos <john.l.villalovos@intel.com>  Wed, 29 Aug 2007 06:56:09 -0700

moblin-image-creator (0.25) gutsy; urgency=low

  [ Rusty Lynch ]
  * Adding a new Ubuntu-Staging fset that contains packages that
    are available in moblin, and ready for inclusion into Ubuntu,
    but still not available in Ubuntu Gutsy just yet.
  * Fixed a bug in the Ubuntu-Staging dependencies

  [ Rob Rhoads ]
  * Fixed rusty's spelling mistake. It's now "staging" instead of "stagging".
  * Merged in Jacob's changes for loading the libata driver in the initramfs
    instead of the IDE driver. This fixes a problem where DMA was still
    disabled on the Ubuntu kernel.

  [ Alek Du ]
  * Add image create helper text for image-create -h"
  * Add create-live-usbrw for USB LIVE RW image which was required by QA team

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Tue, 28 Aug 2007 00:27:57 +0200

moblin-image-creator (0.23) gutsy; urgency=low

  [ John L. Villalovos ]
  * Got rid of the funkyness of our chroot function call.  For some reason we
    were passing in the command executable and the command_arguments
    separately, and then immediately putting them back together.  So now I
    just have it pass the entire command as one string.
  * Added console debug to indicate USB device is being written.
  * Enabled use of usplash

  [ Tollef Fog Heen ]
  * Use host_dirname and target_dirname in raise call when mount fails, so
    avoid a NameError.
  * Take packages not in the archive yet out of the Ubuntu-Mobile fsets.

  [ Rusty Lynch ]
  * Adding moblin-applets to both the menlow and mccaslin fsets

  [ John L. Villalovos ]
  * Added some more of the usplash code from Martin.  This is for the install
    to hard drive from the USB flash drive.  Leaving it disabled because I
    believe most developers want to see what is happening during the install.
  * Remove use of os.system to delete a file
  * Trying to keep better track of what we have mounted, so that we can use
    the information during our umount function.

 -- John L. Villalovos <john.l.villalovos@intel.com>  Wed, 22 Aug 2007 18:15:45 -0700

moblin-image-creator (0.22) gutsy; urgency=low

  [ Alek Du ]
  * Add sysfs mount before call install.sh for mccaslin platform too.
    Since Martin need it for installation UI improving.
  * Fix a editor indent issue.

  [ Jacob Pan ]
  * Added poulsbo 2d driver related packages to menlow fset
  * Neutralized the /etc/apt/preference file, libdrm is up-to-date now
  * Note that this is for moblin kernel only, xorg.conf is unchanged

  [ Rusty Lynch ]
  * Removing the fset entries for mobile-application-service.  This
    package is no longer needed since the home applet can directly
    launch applications

  [ John L. Villalovos ]
  * We will now mount /dev/pts on the target.  I also changed some of the
    mounting logic so that it will try to mimic how the host is mounting stuff
    if possible.
  * Since dd seems to be an order of magnitude faster for copying an image to
    the USB flash drive, I am going to use dd rather than shutil.copyfile().
  * Put in usplash code from Martin Xu
  * Fix issue with no output occuring when usplash is disabled.
  * Trying a better way of fixing the output.
  * I accidentally checked in some testing code into the FSet.
  * Make Rusty happy and remove the preferences file since it is all comments
  * Remove copying of preferences file from menlow/Makefile

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Fri, 17 Aug 2007 08:23:12 +0200

moblin-image-creator (0.21) gutsy; urgency=low

  * Make sure to set DEBIAN_FRONTEND to noninteractive to avoid hanging
    when installing packages.

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Tue, 14 Aug 2007 12:18:50 +0200

moblin-image-creator (0.20) gutsy; urgency=low

  [ Rob Rhoads ]
  * Added apt-get clean to the cleanall Makefile target.

  [ Tollef Fog Heen ]
  * Write a manifest file alongside the image when creating installation
    images.

  [ John L. Villalovos ]
  * Empathy was renamed to mobile-chat.  Updated Fsets.
  * Put in fix so that if you specify arguments to image-creator the gui code
    will not be imported.  This allows it to work without issues in text mode.
  * Added mksquashfs to the list of executables to look for.
  * Will no longer delete the /usr/sbin/policy-rc.d file, since it is listed
    in the exclude file for when we create an image.  That way when people
    chroot, things will hopefully work better.
  * Okay mksquashfs, isn't needed on the host, since we pull it in the project
    jailroot.

  [ Alek Du ]
  * Make menlow init scripts more flexible on detect "hda/sda(libata)"
  * New busybox-initramfs 1:1.1.3-5ubuntu3 mount --bind will "segment faults",
    so I have to change init script to avoid using --bind

 -- Alek Du <alek.du@intel.com>  Sun, 12 Aug 2007 18:20:05 -0400

moblin-image-creator (0.19) UNRELEASED; urgency=low

  [ Rusty Lynch ]
  * Another attempt at fixing bug #2 (added in versino 0.10), where an fset
    install will do a 10x retry with an apt update between each try.  The
    problem with the last version of this fix was that the update was performed
    on the buildroot, not the target, so it wasn't solving anything.
  * Fixed a bug where the install script was not stopping, waiting for
    the user to reboot the system.

  [ Jacob Pan ]
  * Add missing PATA driver piix to initramfs such that PATA is enabled
    with DMA.

  [ John L. Villalovos ]
  * Make our output unbuffered (python -u)
  * Putting in the creation of (chroot_dir)/usr/sbin/policy-rc.d which will
    exit with value 101.  This disables packages from running postinstall
    scripts, I believe.
  * Run our chroot command so that stdin is closed.  This will make sure that
    we don't hang, waiting for some process that is asking for input.
  * Increment the try count and output some descriptive messages for the
    rootstrap creation process.
  * Try to clean up the update and install functions.  Have a single variable
    that contains the big honkin' command line we use.  Also do some pausing
    when things fail so people have a chance to read stuff before the next
    iteration happens.
  * Make sure that we delete /usr/sbin/policy-rc.d and don't put it on the
    images.

 -- John L. Villalovos <john.l.villalovos@intel.com>  Mon,  6 Aug 2007 17:16:46 -0700

moblin-image-creator (0.18) gutsy; urgency=low

  [ alek ]
  * Fixed a error where lib/modules link to target fs should be created every time, if not, when the first target
    fs is removed, then image creator could not generate correct initrd image anymore, since the symbol link
    points to non-existence dir.
  * Fixed a bug where all kernel on USB dongle shared default kernel's initrd image file.
    Changed it to the way same as HD initrd image creation.
  * Change it to a better way to create USB and HD initrd images. We only create them once now. Previously we need to
    call create_initramfs at least twice

  [ John L. Villalovos ]
  * Fix Bug 15.  Unable to delete the samsung target.  Discovered that the
    target is doing a mount of fs/lib/modules/2.6.22-8-generic/volatile to
    tmpfs.  Now we will attempt to do a umount if we get a resource busy
    error.
  * Minor tweaks to the fix for Bug 15

  [ Rusty Lynch ]
  * Adding some more basic gstreamers codecs

  [ John L. Villalovos ]
  * Fix for Bug 40, issue with src_regex being undefined
  * Fix minor syntax error

  [ Tollef Fog Heen ]
  * Make the ubuntu-kernel fset depend on linux-image-ume so it's
    automatically kept up to date.
  
 -- Tollef Fog Heen <tfheen@ubuntu.com>  Wed, 01 Aug 2007 10:00:48 +0200

moblin-image-creator (0.17) UNRELEASED; urgency=low

  * To set moblin kernel as default booting kernel both for live (Syslinux) and install image (Grub) if moblin 
    kernel installed

 -- alek <alek@xyd.sh.intel.com>  Mon, 30 Jul 2007 17:20:06 +0800

moblin-image-creator (0.16) UNRELEASED; urgency=low

  * Fixed Menlow Core Fset to fix ubuntu kernel always install issue
  * Fixed a kernel list issue (default kernel added twice to syslinux cfg for installed image)

 -- alek <alek@xyd.sh.intel.com>  Mon, 30 Jul 2007 14:02:41 +0800

moblin-image-creator (0.15) UNRELEASED; urgency=low

  * Initrd images are now generated for each installed kernel in a target image.
    This should fixes a bug where the initrd's didn't match the system nor
    entries in grub's menu.lst file which were generated by update-grub.

 -- Rob Rhoads <rob@afuente.jf.intel.com>  Fri, 27 Jul 2007 17:41:00 -0700

moblin-image-creator (0.14) UNRELEASED; urgency=low

  [ Rob Rhoads ]
  * Fixing debian changelog to account for the following changes from Alek Du...
  * Needn't to keep target's /usr/share/pdk mount, since mksquashfs runs in
    project's jail root not target's
  * Keep /usr/share/pdk mounted while making squashfs, because mksquashfs needs
    the initramfs dir in /usr/share/pdk/platform/ ...
  * For menlow platform, our kernel-mid does not use libata yet. so the PATA
    dev nodes still are hda1 hda2, etc. So I have to modify disk scripts in this ugl
  * umount target fs's /proc & /sys file system before making squashfs, otherwize
    mksquash will encounter errors, since there are now not bind mounted. :-(
  * Add update-grub to image creator to generate menu.lst on the fly.

  [ John L. Villalovos ]
  * Allow the use of a ~/.image-creator/platforms.cfg file to set the
    buildroot_mirror, target_mirror.
  * Delete extra print output

 -- John L. Villalovos <john.l.villalovos@intel.com>  Fri, 27 Jul 2007 16:33:29 -0700

moblin-image-creator (0.13) UNRELEASED; urgency=low

  [ Rob Rhoads ]
  * Added additional menlow fsets to install the entire stack using
    moblin.org's kernel.

  [ Jacob Pan ]
  * add ide kernel modules to fix boot problem with ubuntu ume kernel

 -- Jacob Pan <jacob.jun.pan@intel.com>  Thu, 26 Jul 2007 20:01:53 -0700

moblin-image-creator (0.12) UNRELEASED; urgency=low

  [ Rob Rhoads ]
  * Modified the menlow fset by breaking out kernel from the "Core" and
    adding new fsets for the moblin.org and Ubuntu kernels. For now, the 
    Ubuntu kernel continues to be installed by default.

  [ Tollef Fog Heen ]
  * matchbox-keyboard-toggler is now called moblin-keyboard-manager.
    
 -- Tollef Fog Heen <tfheen@ubuntu.com>  Thu, 26 Jul 2007 17:42:40 +0200

moblin-image-creator (0.11) gutsy; urgency=low

  [ Rob Rhoads ]
  * Fixed a copy-and-paste error is the description of the crown beach fset.

  [ John L. Villalovos ]
  * Change execCommand() function.  I think this simpler method will work just
    as well.

  [ Tollef Fog Heen ]
  * Don't bind-mount /proc and /sys, that appears to sometimes blow up in
    interesting ways in some chroots.

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Thu, 26 Jul 2007 14:34:12 +0200

moblin-image-creator (0.10) gutsy; urgency=low

  [ Rob Rhoads ]
  * Fixed the initramfs hooks file to properly install the menlow usb and
    disk scripts.
  * Updated the Menlow fsets and apt sources to mirror the changes in
    McCaslin.

  [ Rusty Lynch ]
  * Added a feature where apt-get install's will retry on failure for up
    to 10 times, with a 'apt-get update' between each attempt.  This
    should resolve bug #2

  [ John L. Villalovos ]
  * Trying to fix the issue with multiple mounting occuring
  * Fix problem the existed in the execCommand function where not all of
    the output would be returned.
  * Fixed mispelled path
  * Fix for missing /var/cache/apt/archives/partial issue.  Now check in
    both the update and install functions.

  [ Tollef Fog Heen ]
  * mobile-internet-browser is called midbrowser; update mccaslin and
    menlow fsets accordingly.

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Wed, 25 Jul 2007 12:22:06 +0200

moblin-image-creator (0.9) gutsy; urgency=low

  [ Rusty Lynch ]
  * Updating the menlow usb and disk initramfs scripts
  * Adding new --bypass-rootstrap command line argument to allow
    for the creation of project and target filesystems without
    using a cached rootstrap archive.
  * Adding new --clear-rootstraps command line argument to allow
    users to clear out rootstrap files
  * Adding multiverse apt config files for mccaslin
  * Adding a feature where a failed debootstrap call will be retried
    for up to 10 ten times before giving up.  This helps get past
    spurious network issues that debootstrap will call a corrupt apt
    repository.

  [ John L. Villalovos ]
  * If the /var/cache/apt/archives/partial is missing, then create it.
  * Fix error with variable name.
  * Change http://moblin.org/ to http://www.moblin.org/
  * Fix Bug 25
  * Clean it up for the Bug 25 fix

  [ Jacob Pan ]
  * Added package pinning in menlow platform apt/preferences
  * Changed scripts to copy preferences to target /etc/apt/ dir.
  * Added ume ubuntu modules which includes squashfs
  * Fix usb script in initramfs to mount sda instead of sdb

  [ Tollef Fog Heen ]
  * Make the package Arch: all, not Arch: any.

  [ John Villalovos ]
  * Put in some code to check for executables that are required for image
    creator to run.

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Tue, 24 Jul 2007 15:01:04 +0200

moblin-image-creator (0.8) gutsy; urgency=low

  [ Tollef Fog Heen ]
  * Add -with-Proprietary stack for the flash UI.
  * libkeyboard has been renamed to matchbox-keyboard-toggler; update
    fsets accordingly.

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Thu, 19 Jul 2007 17:56:24 +0200

moblin-image-creator (0.7) gutsy; urgency=low

  * It's ume-config-samsung-q1-ultra, not just -q1.
  * Use make clean, not cleanall to be able to build the package as
    non-root with moblin-image-creator already installed.

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Wed, 18 Jul 2007 21:49:22 +0200

moblin-image-creator (0.6) gutsy; urgency=low

  * The Samsung Q1 fset should depend on ume-config-samsung-q1, not
    samsung-q1-ultra-config.

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Tue, 17 Jul 2007 16:39:01 +0200

moblin-image-creator (0.5) gutsy; urgency=low

  [ Rusty Lynch ]
  * Fixing bug in McCaslin base fset

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Mon, 16 Jul 2007 22:48:10 +0200

moblin-image-creator (0.4) gutsy; urgency=low

  [ Rusty Lynch ]
  * Changed the entry level script from 'project-builder
    to 'image-creator', and fixed a few random locations that
    were still using the old name.
  * Reworked the usb installation script, and the usb and disk initramfs
    scripts to work correctly with the ubuntu kernel now that the HD shows
    up as /dev/sda.  Also performed some cleanup in the early boot process.
  * Cleaning up the mccaslin base fset by removing references to the
    zi9, making the core fset use the ubuntu 386 kernel and removing the
    previous 'ubuntu-flavored-core'
  * Removing local apt repository code from both menlow and mccaslin
    platforms since it has proved itself to not be needed and as a
    result was just complicating the build process
  * Adding 'umount-project' and 'umount-target' command line options
  * Adding 'run-project' and 'run-target' command line options
    that allow for arbitrary execution of commands in either the buildroot
    or target root file-system
  * reworked the pdk_utils.exeCommand command to use the normal stdout/stderr
    when an output array is not passed in.
  * reworked the mccaslin base fset to fit with packaging changes from the
    ubuntu gutsy sprint

  [ Tollef Fog Heen ]
  * Add a Depends on bzip2.
  * Add restricted to the default list of sources.list.
  * Make the Samsung Q1 image use linux-generic, not linux-image-generic.  This
    should enable more of the hardware.
  
 -- Tollef Fog Heen <tfheen@ubuntu.com>  Mon, 16 Jul 2007 21:47:36 +0200

moblin-image-creator (0.3) gutsy; urgency=low

  * Actually rename the binary package too.
  * Remove build-dependency on debootstrap.
  * Add debootstrap, python-gnome2, python-glade2 to Depends
  * Add dosfstools to Depends for mkfs.vfat
  * Don't fail if /etc/hosts doesn't exist.
  * Install the gutsy script to /usr/share/pdk/debootstrap-scripts/gutsy
    and use that as fallback if the gutsy one from debootstrap doesn't
    exist.

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Tue, 10 Jul 2007 18:02:31 +0200

moblin-image-creator (0.2) gutsy; urgency=low

  [ Rusty Lynch ]
  * Move rootstrap creation out of the buildsystem so that pbuilder
    can build deb packages as a non-root user

  [ Tollef Fog Heen ]
  * Add ${python:Depends} to Depends line, fixing dependencies.
  * Remove useless configure target
  * Remove COPYING file installed by make install.
  * Stop ignoring errors from make clean.
  * Run dh_installdoc to install copyright file.
  * Run dh_compress to compress docs.
  * Update FSF address in debian/copyright.
  * Rename to moblin-image-creator

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Tue, 10 Jul 2007 15:41:47 +0200

moblin-image-creator (0.1-2) gutsy; urgency=low

  * debian/control: Version python-support build-dependency (lintian)
  * debian/copyright: Add author, remove GPL, refer to common-licenses, add
    copyright notice

 -- Matt Zimmerman <mdz@ubuntu.com>  Mon, 11 Jun 2007 15:36:17 -0700

moblin-image-creator (0.1-1) unstable; urgency=low

  * Initial release

 -- Rusty Lynch <rusty.lynch@intel.com>  Sun, 29 Apr 2007 10:09:15 -0700

